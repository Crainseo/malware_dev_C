#include <Windows.h>
#include <stdio.h>
#include <string.h>
#include <bcrypt.h>

#pragma comment (lib, "bcrypt.lib")

int main(void) {
	BCRYPT_ALG_HANDLE handle = NULL;
	LPCWSTR encrypt_algorithm = BCRYPT_DES_ALGORITHM;
	BCRYPT_KEY_HANDLE hKey = NULL;

	NTSTATUS result = BCryptOpenAlgorithmProvider(&handle, encrypt_algorithm, NULL, 0);

	if (result == 0) {
		printf("1");
		// 3. 키 생성 또는 가져오기 (여기서는 무작위로 생성된 키를 사용하는 예시)
		NTSTATUS result = BCryptGenerateSymmetricKey(handle, & hKey, NULL, 0, NULL, 0, 0);
		printf("0x%08X", result);
	}

	return 0;
}